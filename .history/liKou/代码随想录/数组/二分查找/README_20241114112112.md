# 34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®
**é¢˜ç›®æè¿°**

ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚

è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º $O(\log n)$ çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

ç¤ºä¾‹ 1ï¼š

> è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
> 
> è¾“å‡ºï¼š[3,4]

ç¤ºä¾‹ 2ï¼š

> è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
> 
> è¾“å‡ºï¼š[-1,-1]

ç¤ºä¾‹ 3ï¼š

> è¾“å…¥ï¼šnums = [], target = 0
> 
> è¾“å‡ºï¼š[-1,-1]

## é¦–æ¬¡è§£ç­”

ğŸ˜ä¸é€šè¿‡ğŸ˜  

```c

// æš´åŠ›æ³•
int* searchRange(int* nums, int numsSize, int target, int* returnSize) {
    // minå’Œmaxåˆ†åˆ«è®°å½•æ•°ç»„ä¸­å°äºtargetçš„æœ€å¤§æ•°å’Œå¤§äºtargetçš„æœ€å°æ•°çš„ä½ç½®
    int min = 0;
    int max = numsSize - 1;
    // å®šä¹‰è¿”å›æ•°ç»„åŠæ•°ç»„å¤§å°
    *returnSize = 2;
    int *ans = (int*)malloc(sizeof(int) * 2);
    if (numsSize == 0 || numsSize == 1) {
        ans[0] = -1;
        ans[1] = -1;
        if (numsSize == 1 && nums[0] == target) {
            ans[0] = 0;
            ans[1] = 0;
            return ans;
        }
        return ans;
    }

    for (int i = 0; i < numsSize; i++) {
        // å…¶ä»–å…ƒç´ ä¹Ÿå­˜åœ¨ç›¸ç­‰çš„æƒ…å†µï¼Œå› æ­¤è¦>=
        if (target > nums[i] && nums[i] >= nums[min]) {
            min = i;
        }
        if (target < nums[i] && nums[i] < nums[max]) {
            max = i;
        }
    }
    if (max == min + 1) {
        ans[0] = -1;
        ans[1] = -1;
        return ans;
    }
    ans[0] = min + 1;
    ans[1] = max -1;
    return ans;
}

```

**æ€è·¯**

æš´åŠ›æ³•ï¼šå› ä¸ºæ˜¯æœ‰åºæ•°ç»„ï¼Œç›´æ¥éå†æ‰¾åˆ°å°äºtargetçš„æœ€å¤§å€¼å’Œå¤§äºtargetçš„æœ€å°å€¼â€”â€”â€”â€”éœ€è¦è€ƒè™‘å¤ªå¤šæƒ…å†µï¼Œè€ƒè™‘ä¸å…¨ï¼Œåªèƒ½é€šè¿‡45/88ä¸ªæ ·ä¾‹

äºŒåˆ†æŸ¥æ‰¾æ³•ï¼šå› ä¸ºæ˜¯æœ‰åºæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæƒ³çš„æ˜¯æ‰¾æ¯”targetå°1å’Œæ¯”targetå¤§1çš„æ•°çš„ä½ç½®ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨é‡å¤å…ƒç´ ï¼Œå¯¼è‡´æŸ¥æ‰¾çš„è¿”å›ç»“æœä¸å”¯ä¸€ï¼Œä¸çŸ¥é“æ€ä¹ˆå†™äºŒåˆ†æŸ¥æ‰¾



**æ€»ç»“**

1. ä¸çŸ¥é“å¦‚ä½•ä½¿ç”¨å‡½æ•°ä¸­çš„returnSizeâ€”â€”ç¨å¾®çœ‹äº†ä¸€ä¸‹é¢˜è§£ä¹‹åå‘ç°ï¼ŒåŸæ¥returnSizeå®šä¹‰çš„æ˜¯è¿”å›çš„æ•°ç»„çš„å¤§å°ï¼Œåº”è¯¥æ˜¯åˆ¤é¢˜çš„æ—¶å€™ï¼Œä¼šå°†è¿”å›çš„æ•°ç»„æŒ‰è¿™ä¸ªreturnSizeè¿›è¡Œè¾“å‡ºï¼Œå› æ­¤è¦èµ‹å€¼ä¸º2
2. å‘ç°è‡ªå·±çš„ä¸€ä¸ªé—®é¢˜ï¼Œåšé¢˜å®¹æ˜“åªæ ¹æ®ä¸€ä¸ªæ ·ä¾‹æ¥æ€è€ƒæƒ…å†µï¼Œä»è€Œä¼šå¯¼è‡´æ€è€ƒä¸å…¨é¢ï¼Œé—æ¼ä¸€äº›æƒ…å†µ

## å­¦ä¹ é¢˜è§£åè§£ç­”

```c

int searchInsert(int* nums, int numsSize, int target) {
    int left = 0;
    int right = numsSize - 1;
    int ans = numsSize;
    // ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾å…ƒç´ 
    while(right >= left) {
        int mid = (right + left) / 2;
        if (target > nums[mid]) {
            left = mid + 1;
        } else if (target <= nums[mid]) {       // å°†ç­‰äºçš„æƒ…å†µå’Œå°äºçš„æƒ…å†µåˆå¹¶
            // è®°å½•å°äºç­‰äºtargetå…ƒç´ çš„ä¸‹æ ‡ï¼Œè‹¥æ‰¾åˆ°åˆ™æ˜¯ç­‰äºtargetï¼Œè‹¥æ‰¾ä¸åˆ°åˆ™æ˜¯å°äºtargetå…ƒç´ çš„ç¬¬ä¸€ä¸ªä¸‹æ ‡
            ans = mid;
            right = mid - 1;
        }
    }
    // äºŒåˆ†æ³•æŸ¥æ‰¾å¤±è´¥æ—¶leftæŒ‡å‘è¯¥å…ƒç´ éœ€è¦æ’å…¥çš„ä½ç½®
    return ans;
}

```

**æ€»ç»“**

1. æš´åŠ›æ³•æ€è·¯åº”è¯¥è°ƒæ•´ï¼Œä»å‰å¾€åéå†ï¼Œç”¨ä¸¤ä¸ªå˜é‡è®°å½•ç¬¬ä¸€æ¬¡å’Œæœ€åä¸€æ¬¡é‡è§targetçš„ä¸‹æ ‡ï¼Œä½†æ˜¯è¿™æ ·æ²¡æœ‰åˆ©ç”¨åˆ°æ•°ç»„å‡åºæ’åˆ—çš„æ¡ä»¶
2. äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œå¯»æ‰¾æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå¤§äºç­‰äºtargetçš„ä¸‹æ ‡-1ï¼Œä»¥åŠç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä¸‹æ ‡


## é¢˜è§£

```c++

class Solution {
    public int searchInsert(int[] nums, int target) {
        int n = nums.length;
        int left = 0, right = n - 1, ans = n;
        while (left <= right) {
            int mid = ((right - left) >> 1) + left;
            if (target <= nums[mid]) {
                ans = mid;
                right = mid - 1;
            } else {
                left = mid + 1;
            }
        }
        return ans;
    }
}

```

**æ€»ç»“**

è¿”å›çš„ç›®æ ‡å€¼å­˜åœ¨å››ç§æƒ…å†µ

![ç›®æ ‡å€¼å››ç§æƒ…å†µ](D:\ä¹±ä¸ƒå…«ç³Ÿ\mdå›¾ç‰‡\1731549610290.jpg)

å› æ­¤å¯ä»¥ç›´æ¥æš´åŠ›æœç´¢è¿”å›ç›®æ ‡å€¼

```c++

class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        for (int i = 0; i < nums.size(); i++) {
        // åˆ†åˆ«å¤„ç†å¦‚ä¸‹ä¸‰ç§æƒ…å†µ
        // ç›®æ ‡å€¼åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å‰
        // ç›®æ ‡å€¼ç­‰äºæ•°ç»„ä¸­æŸä¸€ä¸ªå…ƒç´ 
        // ç›®æ ‡å€¼æ’å…¥æ•°ç»„ä¸­çš„ä½ç½®
            if (nums[i] >= target) { // ä¸€æ—¦å‘ç°å¤§äºæˆ–è€…ç­‰äºtargetçš„num[i]ï¼Œé‚£ä¹ˆiå°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœ
                return i;
            }
        }
        // ç›®æ ‡å€¼åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹åçš„æƒ…å†µ
        return nums.size(); // å¦‚æœtargetæ˜¯æœ€å¤§çš„ï¼Œæˆ–è€… numsä¸ºç©ºï¼Œåˆ™è¿”å›numsçš„é•¿åº¦
    }
};

```

åŸºäºé¢˜ç›®è¦æ±‚O(logn)çš„å¤æ‚åº¦ï¼Œæ­¤å¤–æ•°ç»„æ˜¯æœ‰åºå¹¶ä¸”æ— é‡å¤å…ƒç´ çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ŒäºŒåˆ†æŸ¥æ‰¾åˆå¯ä»¥åˆ†ä¸ºå·¦é—­å³é—­[right, left]ï¼Œå·¦é—­å³å¼€[right, left)ï¼Œæ ¹æ®åŒºé—´å®šä¹‰çš„ä¸åŒï¼Œä»£ç çš„å†™æ³•ä¹Ÿä¸åŒ

æœ¬è´¨è¿˜æ˜¯åœ¨å¤„ç†ç›®æ ‡å€¼çš„å››ç§æƒ…å†µ


```c++

// ç‰ˆæœ¬ä¸€ï¼šå·¦é—­å³é—­
class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        int n = nums.size();
        int left = 0;
        int right = n - 1; // å®šä¹‰targetåœ¨å·¦é—­å³é—­çš„åŒºé—´é‡Œï¼Œ[left, right]
        while (left <= right) { // å½“left==rightï¼ŒåŒºé—´[left, right]ä¾ç„¶æœ‰æ•ˆ
            int middle = left + ((right - left) / 2);// é˜²æ­¢æº¢å‡º ç­‰åŒäº(left + right)/2
            if (nums[middle] > target) {
                right = middle - 1; // target åœ¨å·¦åŒºé—´ï¼Œæ‰€ä»¥[left, middle - 1]
            } else if (nums[middle] < target) {
                left = middle + 1; // target åœ¨å³åŒºé—´ï¼Œæ‰€ä»¥[middle + 1, right]
            } else { // nums[middle] == target
                return middle;
            }
        }
        // åˆ†åˆ«å¤„ç†å¦‚ä¸‹å››ç§æƒ…å†µ
        // ç›®æ ‡å€¼åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å‰  [0, -1]
        // ç›®æ ‡å€¼ç­‰äºæ•°ç»„ä¸­æŸä¸€ä¸ªå…ƒç´   return middle;
        // ç›®æ ‡å€¼æ’å…¥æ•°ç»„ä¸­çš„ä½ç½® [left, right]ï¼Œreturn  right + 1
        // ç›®æ ‡å€¼åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹åçš„æƒ…å†µ [left, right]ï¼Œ å› ä¸ºæ˜¯å³é—­åŒºé—´ï¼Œæ‰€ä»¥ return right + 1
        return right + 1;
    }
};

```

```c++

// ç‰ˆæœ¬äºŒï¼šå·¦é—­å³å¼€
class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        int n = nums.size();
        int left = 0;
        int right = n; // å®šä¹‰targetåœ¨å·¦é—­å³å¼€çš„åŒºé—´é‡Œï¼Œ[left, right)  target
        while (left < right) { // å› ä¸ºleft == rightçš„æ—¶å€™ï¼Œåœ¨[left, right)æ˜¯æ— æ•ˆçš„ç©ºé—´
            int middle = left + ((right - left) >> 1);
            if (nums[middle] > target) {
                right = middle; // target åœ¨å·¦åŒºé—´ï¼Œåœ¨[left, middle)ä¸­
            } else if (nums[middle] < target) {
                left = middle + 1; // target åœ¨å³åŒºé—´ï¼Œåœ¨ [middle+1, right)ä¸­
            } else { // nums[middle] == target
                return middle; // æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼çš„æƒ…å†µï¼Œç›´æ¥è¿”å›ä¸‹æ ‡
            }
        }
        // åˆ†åˆ«å¤„ç†å¦‚ä¸‹å››ç§æƒ…å†µ
        // ç›®æ ‡å€¼åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹å‰ [0,0)
        // ç›®æ ‡å€¼ç­‰äºæ•°ç»„ä¸­æŸä¸€ä¸ªå…ƒç´  return middle
        // ç›®æ ‡å€¼æ’å…¥æ•°ç»„ä¸­çš„ä½ç½® [left, right) ï¼Œreturn right å³å¯
        // ç›®æ ‡å€¼åœ¨æ•°ç»„æ‰€æœ‰å…ƒç´ ä¹‹åçš„æƒ…å†µ [left, right)ï¼Œå› ä¸ºæ˜¯å³å¼€åŒºé—´ï¼Œæ‰€ä»¥ return right
        return right;
    }
};

```


---

# 69.x çš„å¹³æ–¹æ ¹
**é¢˜ç›®æè¿°**

## é¦–æ¬¡è§£ç­”

æ€»ç»“

## å­¦ä¹ é¢˜è§£åè§£ç­”

æ€»ç»“

## é¢˜è§£

æ€»ç»“


---

# 367.æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°
**é¢˜ç›®æè¿°**

## é¦–æ¬¡è§£ç­”

æ€»ç»“

## å­¦ä¹ é¢˜è§£åè§£ç­”

æ€»ç»“

## é¢˜è§£

æ€»ç»“


---


